{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kovia\\\\Desktop\\\\clone insta 2\\\\insta-clone\\\\client\\\\src\\\\components\\\\screens\\\\SignIn.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { UserContext } from '../../App';\nimport M from 'materialize-css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignIn = () => {\n  _s();\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const navigate = useNavigate(); // Use useNavigate hook for navigation\n  const [password, setPassword] = useState(\"\"); // Fixed the typo here\n  const [email, setEmail] = useState(\"\");\n  const PostData = () => {\n    if (!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(email)) {\n      M.toast({\n        html: \"invalid email\",\n        classes: \"#c62828 red darken-3\"\n      });\n      return;\n    }\n    fetch(\"/signin\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        password,\n        email\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      if (data.error) {\n        M.toast({\n          html: data.error,\n          classes: \"#c62828 red darken-3\"\n        });\n      } else {\n        localStorage.setItem(\"jwt\", data.token);\n        localStorage.setItem(\"user\", JSON.stringify(data.user));\n        dispatch({\n          type: \"USER\",\n          payload: data.user\n        });\n        M.toast({\n          html: \"signedin success\",\n          classes: \"#43a047 green darken-1\"\n        });\n        navigate('/'); // Use navigate() for redirecting\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mycard\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card auth-card input-field\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Instagram\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value) // Fixed the typo here\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn waves-effect waves-light #64b5f6 blue darken-1\",\n        onClick: () => PostData(),\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: \"Don't have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/reset\",\n          children: \"Forgot password?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(SignIn, \"aI1zAWD5ZBrKI4kV7vFw244ZEug=\", false, function () {\n  return [useNavigate];\n});\n_c = SignIn;\nexport default SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["React","useState","useContext","Link","useNavigate","UserContext","M","jsxDEV","_jsxDEV","SignIn","_s","state","dispatch","navigate","password","setPassword","email","setEmail","PostData","test","toast","html","classes","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","error","localStorage","setItem","token","user","type","payload","catch","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","to","_c","$RefreshReg$"],"sources":["C:/Users/kovia/Desktop/clone insta 2/insta-clone/client/src/components/screens/SignIn.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { UserContext } from '../../App';\r\nimport M from 'materialize-css';\r\n\r\nconst SignIn = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const navigate = useNavigate(); // Use useNavigate hook for navigation\r\n  const [password, setPassword] = useState(\"\"); // Fixed the typo here\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const PostData = () => {\r\n    if (!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(email)) {\r\n      M.toast({ html: \"invalid email\", classes: \"#c62828 red darken-3\" });\r\n      return;\r\n    }\r\n\r\n    fetch(\"/signin\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        password,\r\n        email\r\n      })\r\n    }).then(res => res.json())\r\n      .then(data => {\r\n        console.log(data);\r\n        if (data.error) {\r\n          M.toast({ html: data.error, classes: \"#c62828 red darken-3\" });\r\n        } else {\r\n          localStorage.setItem(\"jwt\", data.token);\r\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n          dispatch({ type: \"USER\", payload: data.user });\r\n          M.toast({ html: \"signedin success\", classes: \"#43a047 green darken-1\" });\r\n          navigate('/'); // Use navigate() for redirecting\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"mycard\">\r\n      <div className=\"card auth-card input-field\">\r\n        <h2>Instagram</h2>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)} // Fixed the typo here\r\n        />\r\n        <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n          onClick={() => PostData()}\r\n        >\r\n          Login\r\n        </button>\r\n        <h5>\r\n          <Link to=\"/signup\">Don't have an account?</Link> {/* Fixed typo in text */}\r\n        </h5>\r\n        <h6>\r\n          <Link to=\"/reset\">Forgot password?</Link>\r\n        </h6>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignIn;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}