{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';// Import useNavigate instead of useHistory\nimport M from'materialize-css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Reset=()=>{const navigate=useNavigate();// Use useNavigate instead of useHistory\nconst[email,setEmail]=useState(\"\");// State to hold the entered email\nconst PostData=()=>{// Email validation regex\nconst emailRegex=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;if(!emailRegex.test(email)){M.toast({html:\"Invalid email address\",classes:\"#c62828 red darken-3\"});return;}// Sending email to the backend for password reset request\nfetch('/reset-password',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email})// Sending email as part of the request body\n}).then(res=>res.json())// Handling the JSON response\n.then(data=>{if(data.error){M.toast({html:data.error,classes:\"#c62828 red darken-3\"});}else{M.toast({html:data.message,classes:\"#43a047 green darken-1\"});navigate('/signin');// Use navigate instead of history.push\n}}).catch(err=>{console.log(err);M.toast({html:\"Something went wrong. Please try again later.\",classes:\"#c62828 red darken-3\"});});};return/*#__PURE__*/_jsx(\"div\",{className:\"mycard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card auth-card input-field\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Instagram\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your email\",value:email,onChange:e=>setEmail(e.target.value)// Handling input change\n}),/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect waves-light #64b5f6 blue darken-1\",onClick:PostData// Calling PostData when the button is clicked\n,children:\"Reset Password\"})]})});};export default Reset;","map":{"version":3,"names":["React","useState","useNavigate","M","jsx","_jsx","jsxs","_jsxs","Reset","navigate","email","setEmail","PostData","emailRegex","test","toast","html","classes","fetch","method","headers","body","JSON","stringify","then","res","json","data","error","message","catch","err","console","log","className","children","type","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/kovia/Desktop/clone insta 2/insta-clone/client/src/components/screens/Reset.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'  // Import useNavigate instead of useHistory\r\nimport M from 'materialize-css'\r\n\r\nconst Reset = () => {\r\n    const navigate = useNavigate()  // Use useNavigate instead of useHistory\r\n    const [email, setEmail] = useState(\"\")  // State to hold the entered email\r\n\r\n    const PostData = () => {\r\n        // Email validation regex\r\n        const emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n        if (!emailRegex.test(email)) {\r\n            M.toast({ html: \"Invalid email address\", classes: \"#c62828 red darken-3\" })\r\n            return\r\n        }\r\n\r\n        // Sending email to the backend for password reset request\r\n        fetch('/reset-password', {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ email })  // Sending email as part of the request body\r\n        })\r\n        .then(res => res.json())  // Handling the JSON response\r\n        .then(data => {\r\n            if (data.error) {\r\n                M.toast({ html: data.error, classes: \"#c62828 red darken-3\" })\r\n            } else {\r\n                M.toast({ html: data.message, classes: \"#43a047 green darken-1\" })\r\n                navigate('/signin')  // Use navigate instead of history.push\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n            M.toast({ html: \"Something went wrong. Please try again later.\", classes: \"#c62828 red darken-3\" })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"mycard\">\r\n            <div className=\"card auth-card input-field\">\r\n                <h2>Instagram</h2>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}  // Handling input change\r\n                />\r\n                <button\r\n                    className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                    onClick={PostData}  // Calling PostData when the button is clicked\r\n                >\r\n                    Reset Password\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Reset\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAAE;AAChD,MAAO,CAAAC,CAAC,KAAM,iBAAiB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/B,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAChB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAAE;AAChC,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAAE;AAExC,KAAM,CAAAW,QAAQ,CAAGA,CAAA,GAAM,CACnB;AACA,KAAM,CAAAC,UAAU,CAAG,wJAAwJ,CAE3K,GAAI,CAACA,UAAU,CAACC,IAAI,CAACJ,KAAK,CAAC,CAAE,CACzBP,CAAC,CAACY,KAAK,CAAC,CAAEC,IAAI,CAAE,uBAAuB,CAAEC,OAAO,CAAE,sBAAuB,CAAC,CAAC,CAC3E,OACJ,CAEA;AACAC,KAAK,CAAC,iBAAiB,CAAE,CACrBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEb,KAAM,CAAC,CAAG;AACrC,CAAC,CAAC,CACDc,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAG;AAAA,CACzBF,IAAI,CAACG,IAAI,EAAI,CACV,GAAIA,IAAI,CAACC,KAAK,CAAE,CACZzB,CAAC,CAACY,KAAK,CAAC,CAAEC,IAAI,CAAEW,IAAI,CAACC,KAAK,CAAEX,OAAO,CAAE,sBAAuB,CAAC,CAAC,CAClE,CAAC,IAAM,CACHd,CAAC,CAACY,KAAK,CAAC,CAAEC,IAAI,CAAEW,IAAI,CAACE,OAAO,CAAEZ,OAAO,CAAE,wBAAyB,CAAC,CAAC,CAClER,QAAQ,CAAC,SAAS,CAAC,CAAE;AACzB,CACJ,CAAC,CAAC,CACDqB,KAAK,CAACC,GAAG,EAAI,CACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChB5B,CAAC,CAACY,KAAK,CAAC,CAAEC,IAAI,CAAE,+CAA+C,CAAEC,OAAO,CAAE,sBAAuB,CAAC,CAAC,CACvG,CAAC,CAAC,CACN,CAAC,CAED,mBACIZ,IAAA,QAAK6B,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACnB5B,KAAA,QAAK2B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACvC9B,IAAA,OAAA8B,QAAA,CAAI,WAAS,CAAI,CAAC,cAClB9B,IAAA,UACI+B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,kBAAkB,CAC9BC,KAAK,CAAE5B,KAAM,CACb6B,QAAQ,CAAGC,CAAC,EAAK7B,QAAQ,CAAC6B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAI;AAAA,CAC/C,CAAC,cACFjC,IAAA,WACI6B,SAAS,CAAC,oDAAoD,CAC9DQ,OAAO,CAAE9B,QAAW;AAAA,CAAAuB,QAAA,CACvB,gBAED,CAAQ,CAAC,EACR,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAA3B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}