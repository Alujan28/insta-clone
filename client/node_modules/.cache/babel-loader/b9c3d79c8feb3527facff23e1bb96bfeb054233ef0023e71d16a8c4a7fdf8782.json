{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kovia\\\\Desktop\\\\clone insta 2\\\\insta-clone\\\\client\\\\src\\\\components\\\\screens\\\\CreatePost.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport M from 'materialize-css';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CretePost = () => {\n  _s();\n  const history = useNavigate();\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  useEffect(() => {\n    if (url) {\n      fetch(\"/createpost\", {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": \"Bearer \" + localStorage.getItem(\"jwt\")\n        },\n        body: JSON.stringify({\n          title,\n          body,\n          pic: url\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.error) {\n          M.toast({\n            html: data.error,\n            classes: \"#c62828 red darken-3\"\n          });\n        } else {\n          M.toast({\n            html: \"Created post Successfully\",\n            classes: \"#43a047 green darken-1\"\n          });\n          n.push('/');\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [url]);\n  const postDetails = () => {\n    const data = new FormData();\n    data.append(\"file\", image);\n    data.append(\"upload_preset\", \"new-insta\");\n    data.append(\"cloud_name\", \"cnq\");\n    fetch(\"https://api.cloudinary.com/v1_1/dqkmnrjdr/image/upload\", {\n      method: \"post\",\n      body: data\n    }).then(res => res.json()).then(data => {\n      setUrl(data.url);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card input-filed\",\n    style: {\n      margin: \"30px auto\",\n      maxWidth: \"500px\",\n      padding: \"20px\",\n      textAlign: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"title\",\n      value: title,\n      onChange: e => setTitle(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"body\",\n      value: body,\n      onChange: e => setBody(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-field input-field\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn #64b5f6 blue darken-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Uplaod Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: e => setImage(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-path-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"file-path validate\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn waves-effect waves-light #64b5f6 blue darken-1\",\n      onClick: () => postDetails(),\n      children: \"Submit post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 8\n  }, this);\n};\n_s(CretePost, \"QXJANim7fMVv6gQaeHzbts7TusM=\", false, function () {\n  return [useNavigate];\n});\n_c = CretePost;\nexport default CretePost;\nvar _c;\n$RefreshReg$(_c, \"CretePost\");","map":{"version":3,"names":["React","useState","useEffect","M","useNavigate","jsxDEV","_jsxDEV","CretePost","_s","history","title","setTitle","body","setBody","image","setImage","url","setUrl","fetch","method","headers","localStorage","getItem","JSON","stringify","pic","then","res","json","data","error","toast","html","classes","n","push","catch","err","console","log","postDetails","FormData","append","className","style","margin","maxWidth","padding","textAlign","children","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","files","onClick","_c","$RefreshReg$"],"sources":["C:/Users/kovia/Desktop/clone insta 2/insta-clone/client/src/components/screens/CreatePost.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport M from 'materialize-css'\r\nimport {useNavigate} from 'react-router-dom'\r\nconst CretePost = ()=>{\r\n    const history = useNavigate()\r\n    const [title,setTitle] = useState(\"\")\r\n    const [body,setBody] = useState(\"\")\r\n    const [image,setImage] = useState(\"\")\r\n    const [url,setUrl] = useState(\"\")\r\n    useEffect(()=>{\r\n       if(url){\r\n        fetch(\"/createpost\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                title,\r\n                body,\r\n                pic:url\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n    \r\n           if(data.error){\r\n              M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n           }\r\n           else{\r\n               M.toast({html:\"Created post Successfully\",classes:\"#43a047 green darken-1\"})\r\n               n.push('/')\r\n           }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    },[url])\r\n  \r\n   const postDetails = ()=>{\r\n       const data = new FormData()\r\n       data.append(\"file\",image)\r\n       data.append(\"upload_preset\",\"new-insta\")\r\n       data.append(\"cloud_name\",\"cnq\")\r\n       fetch(\"https://api.cloudinary.com/v1_1/dqkmnrjdr/image/upload\",{\r\n           method:\"post\",\r\n           body:data\r\n       })\r\n       .then(res=>res.json())\r\n       .then(data=>{\r\n          setUrl(data.url)\r\n       })\r\n       .catch(err=>{\r\n           console.log(err)\r\n       })\r\n\r\n    \r\n   }\r\n \r\n\r\n   return(\r\n       <div className=\"card input-filed\"\r\n       style={{\r\n           margin:\"30px auto\",\r\n           maxWidth:\"500px\",\r\n           padding:\"20px\",\r\n           textAlign:\"center\"\r\n       }}\r\n       >\r\n           <input \r\n           type=\"text\"\r\n            placeholder=\"title\"\r\n            value={title}\r\n            onChange={(e)=>setTitle(e.target.value)}\r\n            />\r\n           <input\r\n            type=\"text\"\r\n             placeholder=\"body\"\r\n             value={body}\r\n            onChange={(e)=>setBody(e.target.value)}\r\n             />\r\n           <div className=\"file-field input-field\">\r\n            <div className=\"btn #64b5f6 blue darken-1\">\r\n                <span>Uplaod Image</span>\r\n                <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])} />\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n            </div>\r\n            </div>\r\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n            onClick={()=>postDetails()}\r\n            \r\n            >\r\n                Submit post\r\n            </button>\r\n\r\n       </div>\r\n   )\r\n}\r\n\r\n\r\nexport default CretePost"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}