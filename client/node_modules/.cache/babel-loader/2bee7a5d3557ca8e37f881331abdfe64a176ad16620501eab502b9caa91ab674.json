{"ast":null,"code":"import React,{useEffect,createContext,useReducer,useContext}from'react';import NavBar from'./components/Navbar';import'./App.css';import{BrowserRouter,Route,Routes,useNavigate}from'react-router-dom';// Updated to v6\nimport Home from'./components/screens/Home';import Signin from'./components/screens/SignIn';import Profile from'./components/screens/Profile';import Signup from'./components/screens/Signup';import CreatePost from'./components/screens/CreatePost';import{reducer,initialState}from'./reducers/userReducer';import UserProfile from'./components/screens/UserProfile';import SubscribedUserPosts from'./components/screens/SubscribesUserPosts';import Reset from'./components/screens/Reset';import NewPassword from'./components/screens/Newpassword';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const UserContext=/*#__PURE__*/createContext();const Routing=()=>{const navigate=useNavigate();// Use useNavigate for react-router-dom v6\nconst{state,dispatch}=useContext(UserContext);useEffect(()=>{const user=JSON.parse(localStorage.getItem(\"user\"));if(user){dispatch({type:\"USER\",payload:user});}else{if(!window.location.pathname.startsWith('/reset')){navigate('/signin');}}},[dispatch,navigate]);// Added dispatch and navigate to the dependency array\nreturn/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(Signin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/create\",element:/*#__PURE__*/_jsx(CreatePost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile/:userid\",element:/*#__PURE__*/_jsx(UserProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/myfollowingpost\",element:/*#__PURE__*/_jsx(SubscribedUserPosts,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reset\",element:/*#__PURE__*/_jsx(Reset,{})}),/*#__PURE__*/_jsx(Route,{path:\"/reset/:token\",element:/*#__PURE__*/_jsx(NewPassword,{})})]});};function App(){const[state,dispatch]=useReducer(reducer,initialState);return/*#__PURE__*/_jsx(UserContext.Provider,{value:{state,dispatch},children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(Routing,{})]})});}export default App;","map":{"version":3,"names":["React","useEffect","createContext","useReducer","useContext","NavBar","BrowserRouter","Route","Routes","useNavigate","Home","Signin","Profile","Signup","CreatePost","reducer","initialState","UserProfile","SubscribedUserPosts","Reset","NewPassword","jsx","_jsx","jsxs","_jsxs","UserContext","Routing","navigate","state","dispatch","user","JSON","parse","localStorage","getItem","type","payload","window","location","pathname","startsWith","children","path","element","App","Provider","value"],"sources":["C:/Users/kovia/Desktop/clone insta 2/insta-clone/client/src/App.js"],"sourcesContent":["import React, { useEffect, createContext, useReducer, useContext } from 'react';\nimport NavBar from './components/Navbar';\nimport './App.css';\nimport { BrowserRouter, Route, Routes, useNavigate } from 'react-router-dom'; // Updated to v6\nimport Home from './components/screens/Home';\nimport Signin from './components/screens/SignIn';\nimport Profile from './components/screens/Profile';\nimport Signup from './components/screens/Signup';\nimport CreatePost from './components/screens/CreatePost';\nimport { reducer, initialState } from './reducers/userReducer';\nimport UserProfile from './components/screens/UserProfile';\nimport SubscribedUserPosts from './components/screens/SubscribesUserPosts';\nimport Reset from './components/screens/Reset';\nimport NewPassword from './components/screens/Newpassword';\n\nexport const UserContext = createContext();\n\nconst Routing = () => {\n  const navigate = useNavigate(); // Use useNavigate for react-router-dom v6\n  const { state, dispatch } = useContext(UserContext);\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      dispatch({ type: \"USER\", payload: user });\n    } else {\n      if (!window.location.pathname.startsWith('/reset')) {\n        navigate('/signin');\n      }\n    }\n  }, [dispatch, navigate]); // Added dispatch and navigate to the dependency array\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Home />} />\n      <Route path=\"/signin\" element={<Signin />} />\n      <Route path=\"/signup\" element={<Signup />} />\n      <Route path=\"/profile\" element={<Profile />} />\n      <Route path=\"/create\" element={<CreatePost />} />\n      <Route path=\"/profile/:userid\" element={<UserProfile />} />\n      <Route path=\"/myfollowingpost\" element={<SubscribedUserPosts />} />\n      <Route path=\"/reset\" element={<Reset />} />\n      <Route path=\"/reset/:token\" element={<NewPassword />} />\n    </Routes>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <BrowserRouter>\n        <NavBar />\n        <Routing />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}